{"id":"i-6t0g","uuid":"618d2e8a-1c17-4ebf-8805-57794bd707e9","title":"Create IAgentExecutor interface and core types","content":"## Overview\n\nCreate the foundational `IAgentExecutor` interface and all related type definitions. This is the core abstraction that all CLI agent executors will implement.\n\n## Tasks\n\n- [ ] Create `src/agents/types/agent-executor.ts`\n  - [ ] Define `IAgentExecutor` interface with all required methods\n  - [ ] Define `SpawnedChild` type\n  - [ ] Define `OutputChunk` type\n  - [ ] Define `AgentCapabilities` interface\n  - [ ] Add comprehensive JSDoc for all types\n  \n- [ ] Create `src/agents/types/index.ts`\n  - [ ] Re-export all types from agent-executor.ts\n  - [ ] Ensure backward compatibility with existing exports\n\n- [ ] Update `src/agents/index.ts`\n  - [ ] Export new types\n\n## Acceptance Criteria\n\n- [ ] All types compile with TypeScript strict mode\n- [ ] No breaking changes to existing `IAgentAdapter` interface\n- [ ] JSDoc coverage on all public types\n- [ ] Exports are properly configured\n\n## Related\n\nImplements [[s-6s6c]] - R1: IAgentExecutor Interface","status":"open","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2025-11-20 08:29:07","updated_at":"2025-11-20 08:29:07","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-6t0g","from_type":"issue","to":"s-6s6c","to_type":"spec","type":"implements"}],"tags":["interfaces","sprint-1","types"]}
{"id":"i-1ux9","uuid":"979180ad-bffb-4245-9dbd-4ee4931a75c6","title":"Create normalized output type system","content":"## Overview\n\nDefine the unified output format that all agents will convert their output to. This enables consistent UI rendering regardless of agent type.\n\n## Tasks\n\n- [ ] Create `src/agents/types/normalized-output.ts`\n  - [ ] Define `NormalizedEntry` interface\n  - [ ] Define `NormalizedEntryType` discriminated union\n  - [ ] Define `ToolUseEntry` interface\n  - [ ] Define `ActionType` discriminated union\n  - [ ] Define `FileChange` interface\n  - [ ] Define `CommandResult` interface\n  - [ ] Define `ToolResult` interface\n  - [ ] Define `ErrorEntry` interface\n  - [ ] Add JSDoc examples for each type\n\n- [ ] Update `src/agents/types/index.ts`\n  - [ ] Export normalized output types\n\n## Acceptance Criteria\n\n- [ ] All discriminated unions are properly typed\n- [ ] IDE autocomplete works for type narrowing\n- [ ] JSDoc examples show real-world usage\n- [ ] Type safety prevents invalid combinations\n\n## Examples\n\nProvide examples of how to map:\n- Claude output → NormalizedEntry\n- Cursor tool calls → ToolUseEntry\n- File edits → ActionType with unified diff\n\n## Related\n\nImplements [[s-6s6c]] - R2: Normalized Output Types","status":"open","priority":0,"assignee":null,"archived":0,"archived_at":null,"created_at":"2025-11-20 08:29:25","updated_at":"2025-11-20 08:29:25","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-1ux9","from_type":"issue","to":"s-6s6c","to_type":"spec","type":"implements"}],"tags":["output-normalization","sprint-1","types"]}
{"id":"i-675j","uuid":"e0b261d8-364c-4e4b-b84b-a5dffbc5c3fb","title":"Create approval service interface","content":"## Overview\n\nDefine the interface for handling interactive tool approval requests from agents.\n\n## Tasks\n\n- [ ] Create `src/agents/types/approval-service.ts`\n  - [ ] Define `IApprovalService` interface\n  - [ ] Define `ApprovalRequest` type\n  - [ ] Define `ApprovalDecision` discriminated union\n  - [ ] Add JSDoc with usage patterns (auto-approve, rule-based, interactive)\n\n- [ ] Create example implementations in JSDoc\n  - [ ] AutoApprovalService example\n  - [ ] RuleBasedApprovalService example\n  - [ ] Reference to future InteractiveApprovalService\n\n- [ ] Update `src/agents/types/index.ts`\n  - [ ] Export approval service types\n\n## Acceptance Criteria\n\n- [ ] Interface supports synchronous and asynchronous approval\n- [ ] Type-safe approval decisions\n- [ ] JSDoc shows all three usage patterns\n- [ ] Unknown tool input type preserves agent-specific formats\n\n## Related\n\nImplements [[s-6s6c]] - R4: Approval Service Interface","status":"open","priority":1,"assignee":null,"archived":0,"archived_at":null,"created_at":"2025-11-20 08:29:35","updated_at":"2025-11-20 08:29:35","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-675j","from_type":"issue","to":"s-6s6c","to_type":"spec","type":"implements"}],"tags":["approvals","interfaces","sprint-1"]}
{"id":"i-65of","uuid":"3da61d8c-9da0-4245-ac99-cf4cf6ddda8f","title":"Implement BaseAgentExecutor abstract class","content":"## Overview\n\nCreate the abstract base class that provides shared functionality for all concrete agent executors.\n\n## Tasks\n\n- [ ] Create `src/agents/base/base-executor.ts`\n  - [ ] Define `BaseAgentExecutor` abstract class\n  - [ ] Implement `setApprovalService()` method\n  - [ ] Implement `checkAvailability()` default implementation\n  - [ ] Implement `requestApproval()` protected helper\n  - [ ] Implement `wrapChildProcess()` protected helper\n  - [ ] Implement `createOutputChunks()` protected helper\n  - [ ] Add comprehensive JSDoc\n\n- [ ] Create `src/agents/base/index.ts`\n  - [ ] Export `BaseAgentExecutor`\n\n- [ ] Update `src/agents/index.ts`\n  - [ ] Export base executor\n\n## Testing\n\n- [ ] Create `tests/unit/agents/base/base-executor.test.ts`\n  - [ ] Test auto-approval when no service set\n  - [ ] Test delegation to approval service\n  - [ ] Test default availability check\n  - [ ] Test process wrapping\n\n## Acceptance Criteria\n\n- [ ] 100% test coverage on concrete methods\n- [ ] All abstract methods properly declared\n- [ ] Type safety for protected helpers\n- [ ] JSDoc with usage example (subclass template)\n\n## Dependencies\n\nDepends on [[i-6t0g]], [[i-675j]]\n\n## Related\n\nImplements [[s-6s6c]] - R5: BaseAgentExecutor Abstract Class","status":"blocked","priority":1,"assignee":null,"archived":0,"archived_at":null,"created_at":"2025-11-20 08:29:50","updated_at":"2025-11-20 08:30:18","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-65of","from_type":"issue","to":"s-6s6c","to_type":"spec","type":"implements"},{"from":"i-65of","from_type":"issue","to":"i-6t0g","to_type":"issue","type":"depends-on"},{"from":"i-65of","from_type":"issue","to":"i-675j","to_type":"issue","type":"depends-on"}],"tags":["base-class","implementation","sprint-1"]}
{"id":"i-6c1n","uuid":"4da8a8fc-454a-4ece-9399-b0499dfe6ea9","title":"Implement AgentProfileRegistry system","content":"## Overview\n\nCreate the profile registry system for managing agent configurations and variants.\n\n## Tasks\n\n- [ ] Create `src/agents/profiles/types.ts`\n  - [ ] Define `AgentProfileId` interface\n  - [ ] Define `AgentProfile<TConfig>` generic interface\n  - [ ] Define `ProfileRegistry` interface\n  - [ ] Define `ExecutorFactory` type\n  - [ ] Add JSDoc with JSON schema example\n\n- [ ] Create `src/agents/profiles/registry.ts`\n  - [ ] Implement `AgentProfileRegistry` class\n  - [ ] Implement `registerExecutor()` method\n  - [ ] Implement `registerProfile()` method\n  - [ ] Implement `getExecutor()` method with variant fallback\n  - [ ] Implement `loadProfiles()` method\n  - [ ] Implement `getAllProfiles()` method\n  - [ ] Add comprehensive JSDoc\n\n- [ ] Create `src/agents/profiles/index.ts`\n  - [ ] Export all profile types and classes\n  - [ ] Export `globalProfileRegistry` singleton\n\n- [ ] Update `src/agents/index.ts`\n  - [ ] Export profile system\n\n## Testing\n\n- [ ] Create `tests/unit/agents/profiles/registry.test.ts`\n  - [ ] Test executor registration and retrieval\n  - [ ] Test profile registration\n  - [ ] Test variant fallback to default\n  - [ ] Test profile loading from JSON\n  - [ ] Test factory invocation with correct config\n\n## Acceptance Criteria\n\n- [ ] Type-safe factory pattern\n- [ ] O(1) lookups for profiles\n- [ ] Proper variant fallback logic\n- [ ] 100% test coverage\n- [ ] Example profiles.json in JSDoc\n\n## Dependencies\n\nDepends on [[i-6t0g]]\n\n## Related\n\nImplements [[s-6s6c]] - R6: Agent Profile System","status":"blocked","priority":1,"assignee":null,"archived":0,"archived_at":null,"created_at":"2025-11-20 08:30:18","updated_at":"2025-11-20 08:30:39","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-6c1n","from_type":"issue","to":"s-6s6c","to_type":"spec","type":"implements"},{"from":"i-6c1n","from_type":"issue","to":"i-6t0g","to_type":"issue","type":"depends-on"}],"tags":["configuration","profiles","registry","sprint-1"]}
{"id":"i-1fsw","uuid":"16384c5e-4369-4ab6-af14-01bd6e596376","title":"Create comprehensive documentation and examples","content":"## Overview\n\nDocument the Sprint 1 interfaces with comprehensive JSDoc, README updates, and usage examples.\n\n## Tasks\n\n- [ ] Ensure all public APIs have JSDoc\n  - [ ] Summary line\n  - [ ] Detailed description\n  - [ ] @param tags\n  - [ ] @returns tags\n  - [ ] @example blocks\n  - [ ] @throws documentation\n\n- [ ] Update `README.md`\n  - [ ] Add \"Agent Executors\" section\n  - [ ] Document supported agents\n  - [ ] Show basic usage example\n  - [ ] Link to detailed documentation\n\n- [ ] Create examples\n  - [ ] Example: Register and use an executor\n  - [ ] Example: Load profiles from JSON\n  - [ ] Example: Custom approval service\n  - [ ] Example: Output normalization\n\n- [ ] Add architecture diagrams\n  - [ ] Interface hierarchy\n  - [ ] Data flow diagram\n  - [ ] Sprint 1 scope vs future work\n\n## Acceptance Criteria\n\n- [ ] Every public interface/type has JSDoc\n- [ ] README shows complete working example\n- [ ] Examples are copy-pasteable and work\n- [ ] Diagrams explain key concepts visually\n\n## Dependencies\n\nDepends on all other Sprint 1 issues\n\n## Related\n\nImplements [[s-6s6c]] - Documentation Requirements","status":"blocked","priority":2,"assignee":null,"archived":0,"archived_at":null,"created_at":"2025-11-20 08:30:19","updated_at":"2025-11-20 08:30:39","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-1fsw","from_type":"issue","to":"i-6c1n","to_type":"issue","type":"depends-on"},{"from":"i-1fsw","from_type":"issue","to":"s-6s6c","to_type":"spec","type":"implements"},{"from":"i-1fsw","from_type":"issue","to":"i-6t0g","to_type":"issue","type":"depends-on"},{"from":"i-1fsw","from_type":"issue","to":"i-1ux9","to_type":"issue","type":"depends-on"},{"from":"i-1fsw","from_type":"issue","to":"i-675j","to_type":"issue","type":"depends-on"},{"from":"i-1fsw","from_type":"issue","to":"i-65of","to_type":"issue","type":"depends-on"}],"tags":["documentation","examples","sprint-1"]}
